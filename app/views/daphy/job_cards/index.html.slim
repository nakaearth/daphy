= flash[:notice]
#job_board.job_board
  #Todo.job_list
    |  TODO:
    = render partial: 'job_card', collection:  @todos
  #Doing.job_list
    |  DOING:
    = render partial: 'job_card', collection: @doings
  #Done.job_list
    |  DONE:
    = render partial: 'job_card', collection: @dones
script[type="text/javascript"]
  |  $("#Todo").droppable({ drop: function(event, ui) { $.ajax({ type:"PATCH", url:"/daphy/job_cards/"+ ui.draggable.attr('id') + "/change_type?type=Todo", contentType:'application/json', dataType:'json', // In case that an error happens, capture it and show the details. error:function (xhr, msg, error) { alert(msg + ": " + error + ui.draggable.attr('id')); } }); ui.draggable.effect('highlight', '', 2000); } }); $("#Doing").droppable({ drop: function(event, ui) { $.ajax({ type:"PATCH", url:"/daphy/job_cards/"+ ui.draggable.attr('id') + "/change_type?type=Doing", contentType:'application/json', dataType:'json', // In case that an error happens, capture it and show the details. error:function (xhr, msg, error) { alert(msg + ": " + error + ui.draggable.attr('id')); } }) ui.draggable.effect('highlight', '', 2000); } }); $("#Done").droppable({ drop: function(event, ui) { $.ajax({ type:"PATCH", url:"/daphy/job_cards/"+ ui.draggable.attr('id') + "/change_type?type=Done", contentType:'application/json', dataType:'json', // In case that an error happens, capture it and show the details. error:function (xhr, msg, error) { alert(msg + ": " + error + ui.draggable.attr('id')); } }) ui.draggable.effect('highlight', '', 2000); } }); 
